<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="color-scheme" content="light" />
  <title>
    <%= title || "Admin Console" %>
  </title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        container: { center: true, padding: '1rem' },
        extend: {
          colors: {
            brand: { 50: '#ecfdf5', 100: '#d1fae5', 200: '#a7f3d0', 300: '#6ee7b7', 400: '#34d399', 500: '#10b981', 600: '#059669', 700: '#047857', 800: '#065f46', 900: '#064e3b' }
          },
          boxShadow: { soft: '0 8px 30px rgba(15,23,42,.06)', lift: '0 12px 32px rgba(15,23,42,.10)' }
        }
      }
    }
  </script>

  <!-- Icons & libs cơ bản -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lucide-static@latest/font/lucide.css">
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      lucide.createIcons(); // quét tất cả <i data-lucide="...">
    });
  </script>
  <!-- React + ReactDOM + Babel + Recharts (CDN) -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://unpkg.com/recharts/umd/Recharts.min.js"></script>
</head>
<body class="bg-white text-slate-800 antialiased">
  <div class="min-h-screen flex" x-data="{ open:false }">
    <!-- Sidebar -->
    <%- include('../partials/_sidebar', { activePath: activePath || '' }) %>
      <!-- Content -->
      <div class="flex-1 flex flex-col">
        <!-- Topbar -->
        <%- include('../partials/_topbar') %>
          <!-- Main -->
          <main class="p-6 max-w-[1400px] w-full mx-auto">
            <% if (flash && flash.success) { %>
              <div class="mb-4 rounded-xl bg-brand-50 border border-brand-200 text-brand-700 px-4 py-3">
                <%= flash.success %>
              </div>
              <% } %>
                <% if (flash && flash.error) { %>
                  <div class="mb-4 rounded-xl bg-rose-50 border border-rose-200 text-rose-700 px-4 py-3">
                    <%= flash.error %>
                  </div>
                  <% } %>
                    <%- body %>
          </main>
          <!-- Footer -->
          <footer class="mt-auto border-t bg-white/90 backdrop-blur">
            <div class="max-w-[1400px] mx-auto px-6 py-4 text-sm text-slate-500 flex items-center justify-between">
              <span>© <%= new Date().getFullYear() %> Admin Console</span>
              <span class="hidden md:inline">EJS • Tailwind • Recharts • Alpine</span>
            </div>
          </footer>
      </div>
  </div>
  <script defer src="/js/admin.js"></script>
</body>

</html>